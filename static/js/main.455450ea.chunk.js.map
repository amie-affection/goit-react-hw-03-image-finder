{"version":3,"sources":["components/modal/Modal.module.css","components/imageGallery/ImageGallery.module.css","components/button/Button.module.css","services/api.jsx","components/searchbar/Searchbar.jsx","components/loader/Loader.jsx","components/imageGalleryItem/ImageGalleryItem.jsx","components/imageGallery/ImageGallery.jsx","components/button/Button.jsx","components/modal/Modal.jsx","App.js","index.js","components/searchbar/Searchbar.module.css","components/imageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","axios","defaults","baseURL","apiKey","fetchImagesWithQuery","searchQuery","page","console","log","then","response","data","hits","Searchbar","state","inputValue","handleSubmit","e","preventDefault","props","onSubmit","handleChange","setState","target","value","className","styles","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","Component","Loader","style","position","left","top","transform","color","height","width","timeout","ImageGalleryItem","image","onClick","largeImageURL","src","webformatURL","alt","ImageGalleryItemImage","ImageGallery","listImages","map","key","id","Button","Modal","modalKeyDown","onClose","closeOnClick","currentTarget","backdropRef","createRef","modalClick","current","window","addEventListener","removeEventListener","url","Overlay","ref","App","loading","showModal","loadMore","prevState","openModal","imageURL","largeImage","catch","error","prevProps","scrollTo","document","documentElement","scrollHeight","behavior","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.455450ea.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3ZJWX\",\"Modal\":\"Modal_Modal__3a0Mi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3A3_i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3FW3U\"};","import axios from \"axios\";\r\naxios.defaults.baseURL = \"https://pixabay.com/api\";\r\nconst apiKey = \"16769549-77e013c4c462af3357f93945e\";\r\n\r\nconst fetchImagesWithQuery = (searchQuery, page = 1) => {\r\n  console.log(searchQuery, page);\r\n  return axios(\r\n    `/?q=${searchQuery}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`\r\n  ).then((response) => response.data.hits);\r\n};\r\n\r\nexport default fetchImagesWithQuery;\r\n","import React, { Component } from \"react\";\r\nimport styles from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    inputValue: \"\",\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log(this.state.inputValue);\r\n    this.props.onSubmit(this.state.inputValue);\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ inputValue: e.target.value });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form onSubmit={this.handleSubmit} className={styles.SearchForm}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            onChange={this.handleChange}\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from \"react\";\r\nimport Spinner from \"react-loader-spinner\";\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"absolute\",\r\n        left: \"50%\",\r\n        top: \"50%\",\r\n        transform: \"translate(-50%, -50%)\",\r\n      }}\r\n    >\r\n      <Spinner\r\n        type=\"Puff\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import React from \"react\";\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ image, onClick }) => {\r\n  return (\r\n    <li className={styles.ImageGalleryItem}>\r\n      <img\r\n        onClick={() => onClick(image.largeImageURL)}\r\n        src={image.webformatURL}\r\n        alt=\"image\"\r\n        className={styles.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport ImageGalleryItem from \"../imageGalleryItem/ImageGalleryItem\";\r\nimport styles from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ listImages, onClick }) => {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {listImages.map((image) => {\r\n        return (\r\n          <ImageGalleryItem key={image.id} image={image} onClick={onClick} />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\r\nimport styles from \"./Button.module.css\";\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <>\r\n      <button className={styles.Button} onClick={onClick}>\r\n        Load More\r\n      </button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component, createRef } from \"react\";\r\nimport styles from \"./Modal.module.css\";\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.modalKeyDown);\r\n  }\r\n\r\n  componentWillMount() {\r\n    window.removeEventListener(\"keydown\", this.modalKeyDown);\r\n  }\r\n\r\n  modalKeyDown = ({ key }) => {\r\n    if (key === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  closeOnClick = ({ target, currentTarget }) => {\r\n    if (target !== currentTarget) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  backdropRef = createRef();\r\n\r\n  modalClick = (e) => {\r\n    const { current } = this.backdropRef;\r\n    if (current && e.target !== current) {\r\n      return;\r\n    }\r\n    this.props.onClose();\r\n  };\r\n\r\n  render() {\r\n    const { url } = this.props;\r\n    return (\r\n      <div\r\n        onClick={this.modalClick}\r\n        className={styles.Overlay}\r\n        ref={this.backdropRef}\r\n      >\r\n        <div className={styles.Modal} onClick={this.closeOnClick}>\r\n          <img src={url} alt=\"img\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from \"react\";\nimport fetchImagesWithQuery from \"./services/api\";\nimport Searchbar from \"./components/searchbar/Searchbar\";\nimport Loader from \"./components/loader/Loader\";\nimport ImageGallery from \"./components/imageGallery/ImageGallery\";\nimport Button from \"./components/button/Button\";\nimport Modal from \"./components/modal/Modal\";\n\nclass App extends Component {\n  state = {\n    searchQuery: \"panda\",\n    page: 1,\n    listImages: null,\n    loading: false,\n    showModal: false,\n  };\n\n  componentDidMount() {\n    fetchImagesWithQuery(this.state.searchQuery)\n      .then((data) => this.setState({ listImages: data }))\n      .catch((error) => console.log(\"Error:\", error));\n    // console.log(\"componentDidMount\");\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // console.log(\"componentDidUpdate\");\n\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      // console.log('Search: ', this.state.searchQuery, this.state.page);\n      \n      \n      return fetchImagesWithQuery(this.state.searchQuery, 1)\n      .then((data) => {\n        this.setState({ listImages: data, page: 1 });\n      })\n      .catch((error) => {});\n    }\n    \n    if (prevState.page !== this.state.page && this.state.page !== 1) {\n      // console.log(\"LoadMore: \", this.state.searchQuery, this.state.page);\n\n      return fetchImagesWithQuery(this.state.searchQuery, this.state.page)\n        .then((data) => {\n          this.setState((prevState) => ({\n            listImages: [...prevState.listImages, ...data],\n          }));\n\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          })\n        })\n\n        .catch((error) => {});\n    }\n  }\n\n  handleSubmit = (searchQuery) => {\n    this.setState({ searchQuery });\n  };\n\n  loadMore = () => {\n    this.setState((prevState) => ({ page: prevState.page + 1 }));\n    // this.handleSubmit();\n  };\n\n  openModal = (imageURL) => {\n    this.setState({ largeImage: imageURL, showModal: true });\n  };\n\n  onClose = () => {\n    this.setState({ showModal: false });\n  };\n\n  render() {\n    const { listImages, largeImage, loading, showModal } = this.state;\n    return (\n      <>\n        <Searchbar onSubmit={this.handleSubmit} />\n        {listImages && (\n          <ImageGallery listImages={listImages} onClick={this.openModal} />\n        )}\n        {loading && <Loader />}\n        {listImages && <Button onClick={this.loadMore} />}\n        {showModal && (\n          <Modal url={this.state.largeImage} onClose={this.onClose} />\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport './index';\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3YchE\",\"SearchForm\":\"Searchbar_SearchForm__aF6Ng\",\"SearchFormButton\":\"Searchbar_SearchFormButton__VOPFy\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2oi63\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1aBII\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__MlkjK\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2JQwf\"};"],"sourceRoot":""}